{% extends "layout.html" %}
{% block content %}

    <!-- Header -->
    <section class="section_header_carbon_app">
        <div class="container">
    
        <div class="header_carbon_app">
            <div class="box"> 
            <h1 style="font-size:55px;"><span class="text-logo"> CarbonCare Calculator</span></h1>
            <p style="text-align:left;">
                Welcome to our Carbon App Calculator. To commence, click the ‘New Entry’ button and input your travel history. Our application will furnish both a visual and quantitative breakdown of your travel-related emissions. Users have the capability to filter entries based on date and can opt to view either their own entries exclusively or all entries associated with their organization. To exclude a specific mode of transport, users can conveniently select the corresponding option adjacent to the pie charts. In the event that an entry needs removal, users can scroll down to the table located at the bottom of the page and click the ‘Delete’ button next to the entry they wish to eliminate. Furthermore, the table provides additional filtering options, such as sorting by date, total kilometers traveled, or transport mode. Additionally, a search bar facilitates the retrieval of specific entries.            </p>
            <div class="container_buttons_links_header_carbon_app">
                <div class="btn">
                    
                </div>
                <div class="btn">
                    <a href="#" class="btn btn-primary btn-lg mr-2", style="background-color:#35628f;", data-toggle="modal" data-target="#carbon_app_instructions">Instructions</a>
                </div>
                <div class="btn">
                    <a href="{{url_for('carbon_app.your_data')}}" class="btn btn-primary btn-lg mr-2", style="background-color:#35628f;">Your data</a>
                </div>
            </div>  
            <!-- Modal Instructions -->
            <div class="modal fade" id="carbon_app_instructions" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                <div class="modal-content">
          
                    <div class="modal-header">
                    <h5 class="modal-title", style="color:black; text-align: center;">Carbon App, instructions</h5>
                    </div>
          
                    <div class="modal-body", style="color:black">
                    <p style="text-align: left;">
                        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repudiandae ratione tempore id esse nobis molestias quasi explicabo possimus ea reprehenderit.
                    </p>
                    <ol style="text-align:left;">
                        <li>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi, sint.
                        </li>
                        <li>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi, sint.
                        </li>
                    </ol>
                    </div>
          
                    <div class="modal-footer">
                        <a href="{{url_for('carbon_app.new_entry')}}" class="btn btn-primary btn-lg mr-2", style="background-color:#007bff;">New entry</a>
                        <button class="btn btn-secondary btn-lg mr-2", style="background-color:#6c757d;" data-dismiss="modal">Close</button>
                    </div>
          
                </div>
                </div>
            </div>
            </div>
            <div class="box">
            <img 
                src="{{url_for('static', filename='icons/calculator.svg')}}"
                width="325" 
                height="325"
                alt=""/>
            </div>
        </div>
        
        </div>
    </section> 
       
    <section class="section_header">
        <div class="container">
          <div class="home">
            <h2 class="text">My Data</h2>
            <div class="section_container_buttons_carbon_app_new_entry_main">
                <a class="btn_carbon_app_new_entry_main" data-bs-toggle="modal" data-bs-target="#new_entry"> <button type="button" value="active" class="btn btn-success" style="background-color: #2a4359;" id="filter_individual">New entry </button> </a> <!-- bs-target links to the id of the modal-->
            </div>
              <div class="container_filter">
                <div class="box_employee_filter">
                <p>Filter by:</p>
                <div class="box_employee_filter_buttons">
                <button type="button" value="active" class="btn btn-success" style="background-color: #2a4359;" id="filter_individual"> Only me </button>
                <button type="button" value="" class="btn btn-secondary" style="background-color: #2a4359; id="filter_all"> Every employee </button> 
                </div>
              </div>
                <div class="box_date_filter">
                <div class="box_date_filter_from">
                  <p>
                    From:
                  </p>
                <input type="date" name="filter_start" id="filter_start"> 
                </div>
                <div class="box_date_filter_to">
                <p>
                  To:
                </p>
                <input type="date" name="filter_end" id="filter_end">
                </div>
                <div class="box_update_timerange">
                <button type="button" value="" class="btn btn-success" style="background-color: #2a4359; id="filter_date"> Update timerange </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="two_emissions_graphs">
          <div class="charts">
            <div class="box">
                <canvas id="emissions_by_transport"></canvas>
            </div>
            <div class="box">
              <canvas id="kms_by_transport"></canvas>
            </div>
          </div>
      </section>


       <!-- Two Emissions Graph Section -->
      <section class="two_emissions_graphs">
        <div class="charts">
          <div class="box">
            <canvas id="over_time_emissions"></canvas> 
        </div>
            <div class="box">
                <canvas id="over_time_kms"></canvas>
            </div>
        </div>
      </section> 

      <div class="section_container_buttons_carbon_app_new_entry_main">
        <a class="btn_carbon_app_new_entry_table" data-bs-toggle="modal" data-bs-target="#new_entry"> New Entry </a> <!-- bs-target links to the id of the modal-->
      </div> 

      <section class="table_main">
        <div class="container">
            <div id="table_confirmation" class="alert alert-success" style="display: none;" > </div>
            <table class="table" id="entry_table">
                <thead class="thead-dark">
                    <tr>
                        <th> User</th>
                        <th> Date</th>
                        <th> Kilometers</th>
                        <th> Transport</th>
                        <th> Fuel</th>
                        <th> \(Co_{2}e\ (kg)\)</th>
                        <th> Delete</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>       
            </div>
        </div>
        </section> 


   <!-- Modal -->
   <div class="modal fade" id="new_entry" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg " >
    <div class="modal-content">
        <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New Entry</h5>
        
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="h1 mb-3" style="text-align: center;">
            <i id="transport_icon" class="fa-solid fa-truck-plane"></i>
          </div>
          <label for="transport">Type of transport</label> <br>
          <select id="transport">
            <option selected disabled value="default">Choose your mean of transport</option>
            <option value="car">Car</option>
            <option value="bus">Bus</option>
            <option value="train-tram">Light rail and tram</option>
            <option value="train">Train</option>
            <option value="plane">Long distance flight</option>
            <option value="plane-up">Domestic flight</option>
            <option value="ferry">Ferry</option>
            <option value="motorcycle">Motorbike</option>
            <option value="bicycle">Bicycle</option>
            <option value="person-walking">Walk</option>
            
          </select>
          <br>
          <label for="fuel">Fuel type</label> <br>
          <select id="fuel">
            <option selected disabled value="default">Choose a fuel type</option>

            <option value="Electric">Electric</option>
            <option value="Diesel">Diesel</option>
            <option value="Gasoline">Gasoline</option>
            <option value="Hybrid">Hybrid</option>
            <option value="Jet Fuel">Jet fuel</option>
            <option value="No Fossil Fuel">No fossil fuel</option>

          </select>
          <br>
          <label for="kms">Kilometers</label> <br>
          <input type="number" id="kms" name="kms" placeholder="Number of Kilometers" required>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-success" id="newEntryButton">Submit</button>
        </div>
    </div>
    </div>
  </div>  
  <script>
    $('#entry_table').DataTable();
  </script>
  

  
    

    </div> 
</div>
<!-- Footer -->
<div class="footer" id="footer">
  
  
</div>

</body>
</html>

<section class="section_footer">
    <div class="container">
      <div class="footer">
        <h1> 
          <a href="#">
            <i class="fa-solid fa-circle-up" style="color:#2a4359"> Back to top</i>
          </a>
        </h1>
      </div>
    </div>
  </section>
{% endblock content %}


